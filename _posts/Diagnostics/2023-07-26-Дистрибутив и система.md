---
layout: post
title:  Дистрибутив и система
category: Diagnostics
---

## Дистрибутив и система

- hostnamectl -	Посмотреть название системы, версию ядра, разрядность, имя компьютера в сети

- lsb_release -a  -	Вывод названия и версии используемого дистрибутива

- uname -m -	Посмотреть архитектуру ядра операционной системы - например, x86_64/i686 (64/32 бита)

- arch -	Посмотреть разрядность операционной системы - x86_64,AMD64 (64-bit) или x86,i686 (32-bit)

- dmidecode \| grep -A 9 "System Information" -	Информация о модели ПК или ноутбука

- dmidecode \| less 	Полный вывод о компонентах ПК

- inxi -F 	Информация о модели ПК или ноутбука в утилите inxi

- inxi -S \| grep Desktop 	Листинг. Выводит версию DE и версию 
дистрибутива

- distro_info -e 	Проверка имени и версии дистрибутива аналог 

- lsb_release -a. Используется в проектах Etersoft EPM и rpm-build-altlinux-compat

- cat /etc/*release* 	Аналогично предыдущей команде, плюс информация о базовом дистрибутиве

- uname -a 	Вывод информации о системе, дистрибутиве и архитектуре (32/64 бита)

- ls /boot/efi/EFI/Microsoft/Boot 	Наличие файлов bootmgfw.efi или bootmgr.efi говорит о наличии Windows

- calendar \| grep Ubuntu -	Информация о дистрибутиве. Пакет собран в Autoimports BaseALT, доступен для сборки в сизиф.

- efibootmgr 	Отобразить доступные загрузочные записи в UEFI. Для редактирования читать man efibootmgr

- efibootmgr -Bb xxxx 	Осторожно! Удаление пункта из EFI. xxxx -- номер загрузчика из вывода efibootmgr (boot0003 -> 0003)

## Узнать дату установки дистрибутива

- sudo ls -ld /root/.install-log/ - Показать дату установки дистрибутива (может не работать!)

- ls -lct /etc \| tail -1 \| awk '{print $6,$7,$8}' -	Показать дату установки дистрибутива (может не работать!)

- LC_TIME="ru_RU.UTF-8" rpm -qia \|grep "Install Date"\|awk '{print $3}'\|uniq \|sort -r\|tail -n 1 -	Показать дату установки дистрибутива

- rpm -qa --last \| tail -n 1 \| awk '{ for (i=2; i<=NF; i++) printf $i " "; printf "\n" }' -	Для систем на RPM дату установки можно предположить по времени установки первого пакета

- tune2fs -l <файл_устройства_диска> \| grep created -	Узнать, когда была первая запись на диск /dev/sdxX для ФС на ext2/3/4

## Поиск других файловых и операционных систем

- cat /etc/fstab -	Проверка списка монтирования файловых систем по UUID

- cat /proc/mtab -	Просмотр смонтированных файловых систем.

- blkid -	Вывод UUID для жестких дисков

- fdisk -lu  -	Информация о дисках и разделах

- ls -l /dev/disk/by-uuid -	Информация о правах доступа к разделам

- lsblk -o NAME,FSTYPE,SIZE,UUID,MOUNTPOINT -	Вывод в виде дерева о дисках и разделах, точках монтирования 

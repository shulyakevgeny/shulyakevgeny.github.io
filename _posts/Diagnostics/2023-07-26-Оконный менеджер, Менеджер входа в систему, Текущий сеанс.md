---
layout: post
title:  Оконный менеджер, Менеджер входа в систему, Текущий сеанс
category: Diagnostics
---

## Оконный менеджер, Менеджер входа в систему, Текущий сеанс

- pstree  - 	Просмотр дерева процессов. Из команды можно узнать Менеджер входа - их список: gdm,lightDM,xdm,sddm,lxdm, либо отсеять с помощью grep,
например: **pstree | grep gdm**

- wmctrl -m  -	Узнать какой используется оконный менеджер

- wmctrl -d   -	Узнать список всех рабочих столов, управляемых текущим оконным менеджером

- wmctrl -l  -	Узнать список окон, управляемых текущим оконным менеджером

- echo $XDG_CURRENT_DESKTOP  -	Показать текущее окружение рабочего стола (DE)

- echo $GDMSESSION - 	Показать, какая выбрана сессия (текущая) в Менеджере входа

- printf 'Desktop: %s\nSession: %s\n' "$XDG_CURRENT_DESKTOP" "$GDMSESSION"  -	Вывод двух предыдущих команд одной строкой

## Текущий сеанс

- last 	Просмотреть историю всех успешных входов в систему

- last \<username> -	Просмотреть историю входа определенного пользователя \<username>

- last -i -	Отображать IP-адреса в истории входа вместо имени хоста

- last -n число 	Отображать количество строк списка 
пользователей, зарегистрировавшихся в системе последними

- last -f /var/log/btmp 	Просмотр всех неудачных попыток входа на ваш сервер Linux или через lastb

- lastb 	Просмотр записи обо всех неудавшихся попытках регистрации пользователей в системе из /var/log/btmp

- loginctl show-session $XDG_SESSION_ID 	Проверить статус вашей сессии

- env -	Вывод переменных окружения. Из нее узнаем окружение рабочего стола, пользователя, язык в системе и много другой информации 

---
layout: post
title: Математические окружения
category: LaTeX
---

Рассмотрим блочные математические окружения для работы с одним или несколькими уравнениями.

С первым окружением для отображения одного математического выражения без нумерации мы уже знакомы — это конструкция \[ … \]. Для использования нумерации при отображении одного выражения используется окружение equation.

Как было указано ранее, внутри уравнения можно поместить метку \label{метка}, с тем, чтобы в дальнейшем можно было сослаться на уравнения используя \ref{метка} или \eqref{метка} (последняя команда подключается пакетом amsmath и печатает номер уравнения в круглых скобках).

**Окружение equation**

Отметим, что окружение equation, как и все последующие окружения, поддерживают «звездную» версию, отключающую нумерацию текущего математического выражения.

*Код*	

    \begin{equation}
    x^2 + y^2 = R^2
    \end{equation}

*Отображение*:

![](/image/mathematical_environments/1.latex_math_equation.png)

Окружение equation печатает математическое выражение в одну строку.

 Если выражение слишком длинное и выходит за поля, то разбить это выражение можно в окружении **multline**. Разбиение производится командой новой строки - двойной обратный слеш (\\), при этом первая строка выравнивается по левому краю, последняя строка выравнивается по правому краю, а промежуточные строки (если имеются) выравниваются по центру.

**Окружение multline**

*Код*

    \begin{multline}
    f(x,y,z,t) = x + y + z +\\
    + x^2 + y^2 + z^2 -\\
    - t - t^2 - t^3
    \end{multline}

*Отображение*:

![](/image/mathematical_environments/2.latex_math_multline.png)

Отметим, что в англоязычной литературе, обычно математические операторы переносятся на новую строку без дублирования на старой.

Место, где стоит перенос имеет значение с позиции восприятия математического выражения. По возможности стараются в первую очередь перенести знак равенства, затем переносятся знаки плюс и минус, последним переносятся знаки умножения и деления. Переносы в других местах стараются избегать.

Для отображения нескольких математических выражений, например, системы уравнений, существует несколько окружений.

**Окружение align**

Первое окружение align является стандартным. Для разделения строк используется команда -  двойной обратный слеш (\\), а выравнивание осуществляется по символу амперсанд **&**.

*Код*	

    \begin{align}
    x & = r \cos \alpha\\
    y & = r \sin \alpha
    \end{align}

*Отображение*:

![](/image/mathematical_environments/3.latex_math_align.png)

В многострочных окружениях нумеруется каждая строка. Если вы хотите сослаться на каждое уравнение, то необходимо поставить метку для каждой строки. Если вы хотите запретить нумерацию строки (например, уравнение занимает две строки и пронумерована должна быть только одна строка), то используйте команду запрета нумерации текущей строки **\nonumber**.

**Окружение eqnarray**

Больше возможностей для выравнивания предоставляет окружение eqnarray, поскольку поддерживает два символа выравнивания в одной строке. Данное окружение делает больший отступ на символах выравнивания, чем предыдущее окружения **align**.

*Код*	

    \begin{eqnarray}
    x & = & r \cos \alpha\\
    y & = & r \sin \alpha\\
    x^2 + y^2 & = & r^2 \cos^2 \alpha +
    \nonumber \\
    && + r^2 \sin^2 \alpha = \nonumber \\
    & = & r^2
    \end{eqnarray}

*Отображение*:

![](/image/mathematical_environments/4.latex_math_eqnarray.png)

В данном примере первое выравнивание использовано для знака равенства, второе выравнивание для переноса внутри уравнения. Третье уравнение разбито на три строки, поэтому в первых двух строках с переносами нумерация уравнения отключена.

**lefteqn**

Если левая часть уравнения слишком длинная, то для нее можно использовать команду **\lefteqn{}**, тогда выравнивание будет использовать только для следующих строк.

*Код*	

    \begin{eqnarray}
    x & = & r \cos \alpha\\
    y & = & r \sin \alpha\\
    \lefteqn{x^2 + y^2 - r^2 =} \nonumber\\
    & = & r^2(\cos^2 \alpha + 
    \sin^2 \alpha -1)= \nonumber \\
    & = & 0
    \end{eqnarray}

*Отображение*:

![](/image/mathematical_environments/5.latex_math_lefteqn.png)    


Взято: *http://fsweb.info/latex/math_environment.html*